/* ==========================================
   1. Variables
   ========================================== */
   :root {
    --background: #fff;
    --text-color: #363d44;
    --body-font-family: Arial, Helvetica, sans-serif; /* CHANGED: Set to standard system fonts. */
    --body-line-height: 1.4;
    --header-bg-color: #4f6fb0;
    --dropdown-hovered: #d3d7db;
    --link-color: #e9ebed;
    --nav-bg-color: #4f6fb0;
    --blue-link: #333fff;
    --nav-link-spacing: 11px;
    --main-padding: 0.5em;
    --container-max-width: 1200px;
    --logo-max-width: 16em;
    font-size: 1em;
    --dark-mode-text: #e6ebf0;
    --dark-mode-mainbg: #25282b;
    --dark-mode-headerbg: #404858;
    --dark-mode-navhover: #404444;
    --dark-mode-searchplaceholder: #e6ebf0;
}

/* ==========================================
   2. Base Styles (Resets & Typography)
   ========================================== */

*,
*::before,
*::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    font-weight: 500;

}

html,
body {
    color: var(--text-color); /* Default text color - Remains --text-color */
    font-family: var(--body-font-family); /* Correctly uses the variable. */
    line-height: var(--body-line-height);
}

h1 {
    font-size: 40px;
    font-weight: 500;
    white-space: nowrap;
    margin-top: 0.1em;
    margin-bottom: 0.2em;
    /* Inherits color from body/main - should be --text-color */
}

h2 {
    margin-bottom: 10px;
     /* Inherits color from body/main - should be --text-color */
}

/* Specific heading styles moved down */

p {
    font-size: 1em;
    /* Inherits color from body/main - should be --text-color */
}

ul {
    list-style: none;
}

li {
    margin-bottom: 5px;
}

hr.section-divider { /* Moved general divider here */
    border: 0;
    height: 1px;
    background-color: #ddd;
    margin: 30px 0;
}

/* ==========================================
   3. Layout Styles
   ========================================== */

main {
    padding: var(--main-padding);
    min-height: 100vh;
    margin-bottom: auto;
    color: var(--text-color); /* Main content default text - Remains --text-color */
    
}

.main-container {
    display: flex; /* Make the container a flexbox */
    max-width: var(--container-max-width);
    margin: 0 auto;
    padding: 0.8em 1.5em 1.2em 1.5em;
    gap: 20px; /* Gap between main content and sidebar */
}

section {
    flex-grow: 1;  /* This tells the section to grow and fill the available space. */
    min-width: 0;  /* Allows the section to shrink below its content's natural width, forcing text to wrap. */
}

/* Styling for the intro paragraph under h1 */
section > p {
    margin-top: 0;
    margin-bottom: 1.5em;
    font-size: 1.1em;
    font-weight: 400;
    line-height: 1.4;
}

aside {
    padding: 0;
    /* Add this rule to prevent content from stretching the aside */
    min-width: 0;

        /* ADD THESE LINES: */
    width: 380px;     /* Sidebar width to match JetPunk */
    flex-shrink: 0;   /* This is the key: it PREVENTS the aside from shrinking. */
    
    
    min-width: 0;
}

/* ==========================================
   4. Header Styles
   ========================================== */
header {
    padding: 0;
    display: flex;
    flex-direction: row;
    background-color: var(--nav-bg-color);
    position: relative;
    overflow: visible;
    height: 50px; /* Fixed height like JetPunk */

        /* ADD THIS LINE to lock the header's width */
    min-width: var(--container-max-width);

}

/* Ensure a visible space between Menu text and chevron */
#menu-link i {
    margin-left: 4px;
}

.header-top {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    max-width: var(--container-max-width);
    margin: 0 auto;
    padding: 0.1em 1em;
    width: 100%;
    overflow: visible;
    height: 100%;
}

.logo {
    flex-shrink: 0;
    margin-right: 20px;
    margin-top: 1.4em;
}

.logo img {
    max-width: var(--logo-max-width);
    display: block;
}

.nav-container {
    display: flex;
    align-items: center;
    flex-grow: 1;
    gap: 20px;
    align-self: center;
}

nav.header-menu {
    display: flex;
    padding: 6px;
    margin: 0;
    color: var(--link-color); /* Navigation container default - Remains --link-color */
}

nav.header-menu a {
    text-decoration: none;
    margin: 0 var(--nav-link-spacing);
    transition: transform 0.01s ease-in-out;
    transform-origin: center;
    white-space: nowrap;
    color: var(--link-color); /* Navigation link text - Remains --link-color (as requested) */

}

nav.header-menu a:hover {
    transform: scale(1.1);
}
/* Selects the main div wrapping the search input and button */
.search-container {
    position: relative; /* Needed for absolute positioning of the button */
    display: block; /* Change from flex, let input fill it */
    width: 280px; /* Keep the desired width */
    border: none;
    border-radius: 0;
    overflow: visible; /* Allow focus styles */
}

/* Selects the text input element within the search container */
.search-container input[type="text"] {
    /* Core styles */
    display: block;
    width: 100%;
    border: none;
    border-radius: 4px;
    background-color: var(--background);
    font-size: 0.9em;
    font-family: var(--body-font-family);
    color: var(--text-color);
    transition: box-shadow .15s ease-in-out; /* Example transition */

    /* Padding & Height */
    padding: 6px 35px 6px 8px; /* Balanced padding, space for icon on right */
    line-height: 1.4;
    box-sizing: border-box;

    /* Resets */
    outline: none; /* Removes default focus *outline*, but focus state still exists */
    margin: 0;
}

/* Position the button *over* the input field */
.search-container button {
    position: absolute;
    right: 0;
    top: 0;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: none;
    border: none;
    padding: 0 8px;
    margin: 0;
    cursor: pointer;
    color: var(--text-color);
}
.search-container input[type="text"]::placeholder {
    color: var(--text-color); /* Default placeholder color for light mode */
    opacity: 0.5; /* Optional: Adjust opacity */
}

/* Styles the button when it receives focus */
.search-container button:focus {
     outline: none;
}

/* Selects the icon element (<i> tag) within the search button */
.search-container button i {
     font-size: 16px;
     display: block;
}
.auth-button {
    color: var(--text-color); /* Use default text color */
    background-color: #ffc500; /* JetPunk yellow */
    border: 1px solid #e6b000;
    padding: 6px 12px;
    margin-left: 6px;
    border-radius: 4px; /* Smooth rounded corners */
    cursor: pointer;
    font-size: 0.9em;
    font-weight: 400; /* Normal weight like JetPunk */

  }

  .auth-button:hover {
    background-color: #ffb700; /* Slightly darker yellow on hover */
  }

 #auth-buttons,
#user-status {
    margin-left: auto;
    flex-shrink: 0;
    display: flex;
    justify-content: flex-end; /* Aligns content inside to the right */
    align-items: center;     /* Vertically centers content inside */
    color: var(--text-color); /* Default color for this area - Remains --text-color */
    padding-right: 0; /* Remove padding, let header-top handle it */
}

  #auth-buttons {
      display: flex; /* Good for aligning buttons */
       justify-content: flex-end; /* Push buttons to the right */


  }

#user-status > span { /* Adjust selector if you wrapped the text */
    white-space: nowrap;
    overflow: hidden;
    max-width: 200px; /* Example: Leaves ~80px for button + margins */
    display: inline-block; /* Or block if it's the only child */
    color: var(--link-color); /* <<< CHANGED user status email text to --link-color */
}

#user-status #logout-button {
    flex-shrink: 0;
}

.dropdown {
    position: relative;
    display: inline-block;
}

.dropdown-toggle {
    cursor: pointer;
    display: inline-flex;
    align-items: center;
}
.dropdown-toggle i {
    pointer-events: none; /* Clicks will ignore the icon */
}

.dropdown-menu {
    display: none;
    position: absolute;
    top: 41px;
    left: -6px; /* move a few more pixels left */
    background-color: #fff;
    box-shadow: 0px 3px 6px 6px rgba(0, 0, 0, 0.25);
    z-index: 100;
    border: 1px solid #8F99A3;
    width: 230px; /* parent width */
    padding: 0 0;
    box-sizing: border-box;
    min-height: 300px; /* slightly taller to feel balanced with submenu */
    height: 300px;
}

.dropdown-menu a {
    color: var(--text-color) !important;
    padding: 5px 6px;
    text-decoration: none;
    display: flex;
    justify-content: space-between;
    align-items: center;
    text-align: left;
    margin: 0 !important;
    font-size: 16px;
    min-height: 36px;
}

.dropdown-menu a:hover,
.dropdown-menu a.hovered {
    background-color: #d3d7db;
    font-weight: bold;
    transform-origin: left;
    width: 228px;
    transform: none !important;
    
}
.dropdown-menu .persist-hover {
    background-color: #d3d7db;
    font-weight: bold;
    width: 228px; /* match hover width so the highlight stays full-width */
}
body.dark-mode .dropdown-menu .persist-hover {
    background-color: var(--dark-mode-navhover);
    width: 228px; /* keep consistent width in dark mode */
}

.dropdown-menu.show {
    display: block;
}

/* Dark mode dropdown background and borders */
body.dark-mode .dropdown-menu {
    background-color: var(--dark-mode-mainbg);
    border-color: #606a75;
}
body.dark-mode .dropdown-menu a,
body.dark-mode .dropdown-item-label {
    color: var(--dark-mode-text) !important;
}
body.dark-mode .dropdown-menu a:hover,
body.dark-mode .dropdown-menu a.hovered,
body.dark-mode .dropdown-item-label:hover {
    background-color: var(--dark-mode-navhover);
}

/* Read more link styling */
.read-more-link {
    color: var(--blue-link);
    text-decoration: none;
    margin-left: 4px;
}

.read-more-link:hover {
    text-decoration: underline;
}

/* Sidebar post title links */
.post-title-link {
    color: var(--blue-link);
    text-decoration: none;
}

.post-title-link:hover {
    text-decoration: underline;
}

/* Recent posts section title link */
.recent-posts-title-link {
    color: var(--blue-link);
    text-decoration: none;
}

.recent-posts-title-link:hover {
    text-decoration: underline;
}
/* Make sidebar recent posts headings match Music Player weight */
.recent-posts-container .recent-posts-title-link,
.recent-posts-container h3,
.recent-posts-container .post-title-link {
    font-weight: bold;
}

/* Highlight a post briefly when navigated via hash */
.highlight-post {
    /* Keep background fade and grow the box temporarily */
    animation: highlightFade 2s ease-out, highlightGrow 2s ease-out;
}

@keyframes highlightFade {
    0% { background-color: var(--header-bg-color); }
    100% { background-color: transparent; }
}

/* Grow the box by 5px on left, top, and bottom during highlight */
@keyframes highlightGrow {
    0% {
        margin-left: -5px;
        margin-top: -5px;
        margin-bottom: -5px;
        padding-left: 5px;
        padding-top: 5px;
        padding-bottom: 5px;
    }
    100% {
        margin-left: 0;
        margin-top: 0;
        margin-bottom: 0;
        padding-left: 0;
        padding-top: 0;
        padding-bottom: 0;
    }
}

/* Language submenu */
.language-menu-item {
    position: relative;
}

.language-menu-item > a {
    color: var(--text-color) !important;
    padding: 5px 6px;
    text-decoration: none;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 16px;
    min-height: 36px;
}

.language-menu-item > a i {
    transition: transform 0.2s ease;
}


/* Always show hovered background if .language-active is present */
.language-menu-item.language-active > a {
    background-color: #d3d7db;
    font-weight: bold;
}

.language-menu-item > a {
    transition: background-color 0.15s;
}

/* Remove background if another dropdown-menu > a is hovered */
.dropdown-menu > a:hover:not(.language-menu-item > a),
.dropdown-menu > a:focus:not(.language-menu-item > a) {
    background-color: #d3d7db;
    font-weight: bold;
}

/* When a non-language item is hovered, remove the active background from the language parent link */
/* Requires modern browsers that support :has */
.dropdown-menu:has(> a:hover:not(.language-menu-item > a), > .dropdown-item-label:hover) > .language-menu-item:not(:hover) > a {
    background-color: transparent;
    font-weight: normal;
}


/* Always rotate chevron if .language-active is present */
.language-menu-item.language-active > a i {
    transform: rotate(90deg);
}

.dropdown-menu a:hover:not(.language-menu-item > a),
.dropdown-menu a:focus:not(.language-menu-item > a) {
    background-color: #d3d7db;
    font-weight: bold;
}


.language-submenu {
    display: none;
    position: absolute;
    left: 100%; /* flush against parent */
    top: -1px;
    height: auto;         /* auto height to fit all items */
    background-color: #fff;
    box-shadow: 0px 3px 6px 6px rgba(0, 0, 0, 0.25);
    border: 1px solid #8F99A3;
    width: 230px;  /* match parent width */
    min-width: 230px;
    padding: 0 0;
    z-index: 101;
    box-sizing: border-box;
    overflow: visible;   /* no scrollbars; expand to fit content */
}

/* Dark mode for language submenu */
body.dark-mode .language-submenu {
    background-color: var(--dark-mode-mainbg);
    border-color: #606a75;
}
body.dark-mode .language-submenu a {
    color: var(--dark-mode-text) !important;
    background-color: var(--dark-mode-mainbg);
}
body.dark-mode .language-submenu a:hover {
    background-color: var(--dark-mode-navhover);
}

/* Playlist dropdown error + retry */
.playlist-error {
    padding: 8px 10px;
    color: #a94442;
}
.playlist-retry-btn {
    margin-left: 6px;
    background: transparent;
    border: 1px solid #8F99A3;
    border-radius: 3px;
    padding: 2px 8px;
    cursor: pointer;
}
body.dark-mode .playlist-retry-btn {
    border-color: #606a75;
    color: var(--dark-mode-text);
}

.language-submenu a {
    color: var(--text-color) !important;
    padding: 5px 6px;
    text-decoration: none;
    display: flex;
    justify-content: space-between;
    align-items: center;
    text-align: left;
    margin: 0 !important;
    font-size: 16px;
    min-height: 36px;
    background-color: #fff;
    border-bottom: none;
    white-space: nowrap; /* avoid wrapping so submenu width fits longest label */
}

.language-submenu a:last-child {
    border-bottom: none;
}

.language-submenu a:hover {
    background-color: #d3d7db;
    font-weight: bold;
    text-decoration: underline; /* underline on hover in submenu */
    transform: none;
}

/* Right-aligned English names in submenu */
.language-submenu a .lang-english-name {
    margin-left: auto;
    text-align: right;
    opacity: 0.75;
}

.language-menu-item:hover .language-submenu,
.language-submenu:hover,
.language-menu-item.language-active .language-submenu {
    display: block;
}
/* Hide submenu when other items (not language) are hovered */
.dropdown-menu:has(> a:hover:not(.language-menu-item > a), > .dropdown-item-label:hover) .language-submenu {
    display: none;
}

.dropdown-item-label {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 5px 6px;
    cursor: pointer;
    margin: 0;
    font-weight: normal;
    font-size: 16px;   /* match menu items */
    min-height: 36px;  /* match menu items */
    transition: background-color 0.15s ease-in-out;
    color: var(--text-color); /* <<< ADD OR ENSURE THIS LINE IS PRESENT */
}

/* Light Mode Hover for the dropdown label */
.dropdown-item-label:hover {
    background-color: var(--dropdown-hovered); /* Use the light mode hover background */
    font-weight: bold;                     /* Make text bold on hover, like links */
    color: var(--text-color);              /* Keep standard text color on hover */
    width: 228px;                          /* align with link hover width */
}

/* Visited state for ANSI Art quick link (span emulation) */
#video-trigger-info.visited {
    color: #551A8B !important; /* classic visited purple */
}
body.dark-mode #video-trigger-info.visited {
    color: #b19cd9 !important; /* lighter purple in dark mode */
}
/* Ensure visited color still applies when active */
#video-trigger-info.video-active.visited {
    color: #551A8B !important;
}
body.dark-mode #video-trigger-info.video-active.visited {
    color: #b19cd9 !important;
}

/* ==========================================
   5. Footer Styles
   ========================================== */
footer {
    background-color: var(--header-bg-color);
    color: var(--link-color); /* <<< CHANGED footer text to --text-color */
    text-align: center;
    padding: 5.25em;
    font-size: 0.9em;
    display: flex;
    flex-direction: column;
    
    
}

/* ==========================================
   6. Blog Post & Form Component Styles
   ========================================== */

/* Base box for posts, forms, widgets */
.content-box {
    background-color: #ffffff;
    padding: 15px; /* Match JetPunk's more compact padding */
    margin-bottom: 20px;
    border-radius: 5px;
    border: 1px solid #ddd; /* Lighter border like JetPunk */
}

/* --- Create Post Form Specific Styles --- */
#create-post-area {
    margin: 20px auto; /* Center the form area */
}

#create-post-area h2 {
    margin-top: 0;
    margin-bottom: 20px;
    border-bottom: 1px solid #eee;
    padding-bottom: 10px;
     /* Inherits color from body/main - should be --text-color */
}

.form-group {
    margin-bottom: 20px; /* Using the later definition */
}

.form-group label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
    color: var(--text-color); /* <<< CHANGED form label text to --text-color */
}

/* General styles for inputs and textareas in the create area */
#create-post-area input[type="text"],
#create-post-area textarea {
    font-weight: 500;
    font-family: var(--body-font-family); /* Correctly uses the variable. */
    padding: 12px;
    border: 1px solid #ccc;
    border-radius: 4px;
    line-height: 1.3; /* Adjusted line-height based on your previous code */
    width: 100%;
    /* Default font size (will be overridden for title) */
    font-size: 1em;
    color: var(--text-color);
    overflow-wrap: break-word;
    word-wrap: break-word;
}

/* Specific styles for the content textarea */
#create-post-area #post-content { /* Target content specifically */
    resize: vertical;
    font-size: 1em; /* Explicitly 1em */
    min-height: 150px; /* Example min-height */
}

/* Specific styles for the title element */
#create-post-area #post-title { /* Target title specifically */
    font-size: 1.5em; /* <<< SET TITLE FONT SIZE HERE */
    resize: none; /* Typically don't resize title */
    /* Add specific line-height/padding for title if needed */
    /* line-height: 1.2; */
    /* padding-top: 10px; */
    /* padding-bottom: 10px; */
     overflow-y: hidden; /* Hide scrollbar for title textarea if it grows */
     height: auto; /* Allow title textarea to grow vertically */
}


/* Button styles (keep as they were) */
#create-post-area button[type="submit"] {
    background-color: #5cb85c;
    color: white;
    padding: 12px 25px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    transition: background-color 0.2s ease;
}

#create-post-area button[type="submit"]:hover {
    background-color: #4cae4c;
}

#create-post-area button[type="submit"]:disabled {
    background-color: #ccc;
    cursor: not-allowed;
}

#form-message {
    margin-top: 15px;
    font-weight: bold;
    min-height: 1.2em;
    padding: 10px;
    border-radius: 4px;
    display: none; /* Hide initially */
}
#form-message.success {
    color: #155724; background-color: #d4edda; border: 1px solid #c3e6cb; display: block; /* Specific UI color - Left unchanged */
}
#form-message.error {
     color: #721c24; background-color: #f8d7da; border: 1px solid #f5c6cb; display: block; /* Specific UI color - Left unchanged */
}
/* Added info style */
#form-message.info {
     color: #0c5460; background-color: #d1ecf1; border: 1px solid #bee5eb; display: block;
}

#login-prompt {
    color: #856404; background-color: #fff3cd; border: 1px solid #ffeeba; /* Specific UI color - Left unchanged */
    padding: 15px; margin-bottom: 20px; border-radius: 4px;
    display: none; /* Hidden by default */
}
#login-prompt a { color: #004085; font-weight: bold; text-decoration: underline; } /* Specific UI color - Left unchanged */

/* --- View Posts Specific Styles --- */
#view-posts-area {
    border: none;
    margin-top: 0.5em;
    background: none;
    padding: 0;
    border-radius: 0;
}

#view-posts-area h2 {
    margin-top: 0;
    margin-bottom: 15px;
    margin-left: 0;
    border-bottom: none;
    padding-bottom: 0;
    font-size: 1.4em;
    font-weight: 700;
     /* Inherits color from body/main - should be --text-color */
}

#posts-container {
    margin-top: 10px;
}

.post {
    border-bottom: 1px solid #eee;
    padding-bottom: 20px; /* Adjusted */
    margin-bottom: 25px; /* Adjusted */
}

.post:last-child {
    border-bottom: none;
    margin-bottom: 0;
    padding-bottom: 0;
}

.post h3 { /* Post Title */
    margin-top: 0;
    margin-bottom: 10px; /* Adjusted */
    font-size: 1.5em; /* Adjusted */
    color: var(--text-color); /* <<< CHANGED post title text to --text-color */
    line-height: 1.3;
    overflow-wrap: break-word; /* Added */
    word-wrap: break-word; /* Added */
}

.post p { /* Post Content */
    margin-bottom: 15px; /* Adjusted */
    color: var(--text-color); /* <<< CHANGED post content text to --text-color */
    white-space: pre-wrap;
    line-height: 1.6;
    overflow-wrap: break-word; /* Added */
    word-wrap: break-word; /* Added */
}

/* Using more specific selector from before */
.post small.post-metadata { /* Post Date / Author */
    display: block;
    margin-top: 15px; /* Adjusted */
    color: var(--text-color); /* <<< CHANGED post date text to --text-color */
    font-size: 0.85em;
    font-style: italic;
}

#posts-container > p { /* Loading/error message */
    color: var(--text-color); /* <<< CHANGED loading/error message text to --text-color */
    font-style: italic;
    text-align: center;
    padding: 25px 0; /* Adjusted */
}


/* ==========================================
   7. Mini Music Player Styles
   ========================================== */

      .mini-music-player h4 {
    margin-top: 0;
    margin-bottom: 10px;
    text-align: center;
    font-size: 1em;
    color: var(--text-color);
    font-weight: bold;
}

.player-thumbnail {
    position: relative;
    margin-bottom: 10px;
    max-width: 100%;
    overflow: hidden;
    border-radius: 4px;
    background-color: #e0e0e0;
    
}

.player-thumbnail img {
    display: block;
    width: 100%;
    height: auto;
    aspect-ratio: 16 / 9;
    object-fit: cover;
    border: none;
    
}

#youtube-player-container {
  position: absolute;
  top: -9999px;
  left: -9999px;
  width: 1px;
  height: 1px;
  overflow: hidden;
}

.player-controls {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
}

.player-controls .player-btn {
    background: none;
    border: none;
    font-size: 1.6em;
    cursor: pointer;
    padding: 5px;
    line-height: 1;
    color: var(--text-color);
    transition: color 0.2s ease, transform 0.1s ease;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.player-controls .player-btn:hover {
    color: var(--header-bg-color);
}
.player-controls .player-btn:active {
    transform: scale(0.9);
}

/* Playlist button - thicker and closer lines */
#player-playlist-btn i {
    font-weight: 900;
    letter-spacing: -0.1em;
}

/* Previous and Next buttons - slightly smaller */
#player-prev,
#player-next {
    font-size: 1.4em;
}

/* Shuffle button specific styles */
#player-shuffle {
    font-size: 1.3em;
}

#player-shuffle.shuffle-active {
    color: var(--header-bg-color);
}

#player-shuffle.shuffle-active:hover {
    color: #0066cc;
}

/* Playlist dropdown */
.playlist-dropdown-container {
    position: relative;
    display: inline-block;
}

.playlist-dropdown {
    position: absolute;
    top: 100%;
    left: 0;
    margin-top: 10px;
    background: white;
    border: 1px solid #c2c9d6;
    border-radius: 5px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    min-width: 250px;
    max-width: 300px;
    max-height: 400px;
    overflow-y: auto;
    z-index: 1000;
}

.playlist-dropdown-content {
    padding: 10px 0;
}

.playlist-loading {
    padding: 15px;
    text-align: center;
    color: #999;
    font-size: 0.9em;
    margin: 0;
}

.playlist-error {
    padding: 15px;
    text-align: center;
    color: #d9534f;
    font-size: 0.9em;
    margin: 0;
}

.playlist-item {
    padding: 10px 15px;
    cursor: pointer;
    border-bottom: 1px solid #f0f0f0;
    transition: background-color 0.2s ease;
    font-size: 0.9em;
    color: var(--text-color);
}

.playlist-item:last-child {
    border-bottom: none;
}

.playlist-item:hover {
    background-color: #f5f5f5;
}

.playlist-item.active {
    background-color: #e3f2fd;
    font-weight: bold;
    color: var(--header-bg-color);
}

.playlist-item-title {
    display: block;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.volume-control {
    position: relative;
    display: flex;
    align-items: center;
}

#player-volume-slider { /* Base styles added */
    height: 5px;
    cursor: pointer;
    background: #ddd;
    border-radius: 3px;
    width: 80px;
    margin-left: 5px;
    appearance: none;
    -webkit-appearance: none;
}

#player-volume-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 14px;
    height: 14px;
    background: var(--text-color);
    border-radius: 50%;
    cursor: pointer;
    margin-top: -4.5px;
}

#player-volume-slider::-moz-range-thumb {
    width: 14px;
    height: 14px;
    background: var(--text-color);
    border-radius: 50%;
    cursor: pointer;
    border: none;
}

#player-volume-slider::-webkit-slider-runnable-track {
    width: 100%;
    height: 5px;
    cursor: pointer;
    background: #ddd;
    border-radius: 3px;
    border: none;
}

#player-volume-slider::-moz-range-track {
    width: 100%;
    height: 5px;
    cursor: pointer;
    background: #ddd;
    border-radius: 3px;
    border: none;
}

.player-info {
    margin-top: 5px; /* From later change */
    text-align: left;
    overflow: hidden; /* Added */
    position: relative;
    width: 100%;
    display: flex;
    align-items: center;
    gap: 8px;
}

.track-number {
    font-size: 0.9em;
    color: var(--text-color);
    font-weight: 700;
    white-space: nowrap;
    padding: 0 10px 0 5px;
    flex-shrink: 0;
    z-index: 2;
    position: relative;
    margin-right: 0;
}

/* Title container wrapper with fade effect */
.title-container {
    flex: 1;
    min-width: 0;
    overflow: hidden;
    position: relative;
    mask-image: linear-gradient(to right, black 85%, transparent 100%);
    -webkit-mask-image: linear-gradient(to right, black 85%, transparent 100%);
}

#player-video-title {
    font-size: 0.9em; /* From later change */
    color: var(--text-color);
    margin: 0;
    white-space: nowrap;
    padding: 0 5px;
    height: 1.3em; /* From later change */
}

/* Scrolling animation for overflowing titles - continuous scroll left */
@keyframes scroll-title {
    0% {
        transform: translateX(0%);
    }
    100% {
        transform: translateX(calc(-100% - var(--title-gap, 4em)));
    }
}

#player-video-title.scrolling {
    animation: scroll-title 20s linear infinite;
    animation-delay: 2s;
}

/* Create duplicate text for seamless loop */
#player-video-title.scrolling::after {
    content: attr(data-title);
    position: absolute;
    left: calc(100% + var(--title-gap, 4em));
    top: 0;
    white-space: nowrap;
}

.seek-bar-container {
    width: 100%;
    height: 5px; /* From later change */
    background-color: #e0e0e0;
    border-radius: 3px; /* From later change */
    margin-top: 5px; /* From later change */
    cursor: pointer;
    overflow: hidden;
    position: relative;
    
}

.seek-bar-progress {
    height: 100%;
    width: 0%;
    background-color: var(--header-bg-color);
    border-radius: 3px; /* From later change */
    transition: width 0.1s linear;
    
}



/* ==========================================
   8. Quick Links Styles
   ========================================== */

.quick-links-container {
    padding: 20px;
    background: transparent;
    border: 1px solid #ddd; /* Match content-box border */
    border-radius: 5px;
}

.quick-links-container h4 {
    margin: 0 0 12px 0;
    font-size: 1em;
    font-weight: bold;
    color: var(--text-color);
}

.quick-links-list {
    margin: 0;
    padding: 0;
}

.quick-links-list ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.quick-links-list li {
    margin: 0;
    padding: 0;
    line-height: 1.6;
}

.quick-links-list li a {
    color: var(--blue-link);
    text-decoration: none;
    display: inline;
    padding: 0;
    font-size: 1em;
    font-weight: 600;
    transition: color 0.2s ease;
}

.quick-links-list li a:visited {
    color: #551A8B !important; /* Purple for visited links */
}
/* Dark mode visited color for quick links */
body.dark-mode .quick-links-list li a:visited {
    color: #b19cd9 !important;
}

.quick-links-list li a:hover,
.quick-links-list li a:focus {
    color: #0051a5;
    text-decoration: underline;
}

.quick-links-list li span {
    font-size: 1em;
    font-weight: 600;
    color: var(--blue-link);
}

/* ==========================================
   8a. Recent Posts Section Styles
   ========================================== */

.recent-posts-container {
    padding: 20px;
    background: transparent;
    border: 1px solid #ddd; /* Match content-box border */
    border-radius: 5px;
}

.recent-posts-container h4 {
    margin: 0 0 12px 0;
    font-size: 1em;
    font-weight: bold;
    color: var(--text-color);
}

.recent-posts-container .post {
    border-bottom: 1px solid #eee;
    padding-bottom: 15px;
    margin-bottom: 15px;
}

.recent-posts-container .post:last-child {
    border-bottom: none;
    margin-bottom: 0;
    padding-bottom: 0;
}

.recent-posts-container .post h3 {
    font-size: 0.9em;
    font-weight: bold;
    margin: 0 0 8px 0;
    color: var(--text-color);
    line-height: 1.2;
}

.recent-posts-container .post p {
    font-size: 0.85em;
    margin: 0 0 6px 0;
    color: var(--text-color);
    line-height: 1.3;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
}

.recent-posts-container .post-metadata {
    font-size: 0.75em;
    color: #666;
    margin: 0;
}

   /* ==========================================
   9. Video Embed Styles
   ========================================== */

#video-embed-container {
    display: none; /* Starts hidden */
    position: relative; /* For overlay */
    overflow: hidden;
    margin-top: 5px;
    background-color: #000; /* Optional background */
    /* Container width will be 100% of aside, height auto based on video */
    width: 100%;
    height: auto;
}

/* Style for the video element itself */
#video-embed-container video {
    display: block; /* Remove extra space below */
    /* Make video fill container width, height adjusts automatically */
    max-width: 100%;
    width: 100%;
    height: auto;
    object-fit: contain; /* Use contain to see the whole video, or cover to fill */
}

/* Overlay to block interaction (optional but good practice) */
.video-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: transparent;
    z-index: 1;
    cursor: default;
}

/* Style for the trigger text */
#video-trigger-info {
    display: inline-block; 
    padding: 2px 0; 
    text-decoration: none;
    cursor: pointer;
    color: var(--blue-link); /* <<<< FIX: This makes it blue by default */
}

/* Make its hover/focus state match other links */
#video-trigger-info:hover,
#video-trigger-info:focus {
    color: var(--blue-link); /* Stays blue on hover */
    text-decoration: underline; /* Adds underline on hover, like other links */
    outline: none;
}

/* Style when video is playing (optional, but good to keep) */
#video-trigger-info.video-active {
    cursor: default;
    text-decoration: none;
    color: var(--text-color); /* Back to default text color when active */
}

/* Separator between inline trigger and fullscreen link */
.separator {
    font-size: 2em; /* Keep the size of the dot */
    content: "â€¢"; /* Ensure it's a dot */
    color: var(--text-color); /* Use the appropriate color */
    margin: 0 8px; /* Adjust spacing around the dot */
    display: inline-block; /* Ensure it aligns properly */
    vertical-align: middle; /* Adjust this to move it further down */
}
/* Style for the fullscreen symbol link */
.video-fullscreen-link {
    text-decoration: none; /* Remove underline */
    /* Inherits color by default */
    /* Optional: Adjust vertical alignment if needed */
    /* vertical-align: middle; */
}

.video-fullscreen-link:hover,
.video-fullscreen-link:focus {
    text-decoration: none; /* Keep underline removed on hover */
    color: var(--header-bg-color); /* Example: Change color on hover like other links */
    outline: none; /* Optional */
}

/* Ensure the inner span with the symbol inherits link states */
.video-fullscreen-link span {
    color: inherit; /* Make symbol color match link color */
}
/* Add this rule to override the display: block for the fullscreen link */
.quick-links-list li a.video-fullscreen-link {
    display: inline; /* Change display back to inline */
    padding: 0;      /* Remove vertical padding that block might have applied */
    vertical-align: baseline; /* Align with surrounding text (optional but good practice) */
    /* Ensure hover/focus styles still work as expected */
}

/* Optional: You might want to adjust the hover/focus slightly if needed */
.quick-links-list li a.video-fullscreen-link:hover,
.quick-links-list li a.video-fullscreen-link:focus {
    /* Keep existing hover styles or adjust */
    color: var(--header-bg-color);
    text-decoration: none; /* Override underline if the base rule added it */
    /* Remove background changes if the base hover rule added them */
    background-color: transparent;
}

/* ==========================================
   10. Character Counter Styles
   ========================================== */
.char-counter {
    display: none; /* Hide by default */
    text-align: right;
    font-size: 0.85em;
    color: #dc3545; /* Show in red when visible */
    font-weight: bold;
    margin-top: 5px;
    height: 1em;
}

.char-counter.limit-reached {
    display: block; /* Make visible */
}

/* ==========================================
   11. Visited Link Styles
   ========================================== */
/* Main content links - visited state */
a:visited {
    color: #551A8B; /* JetPunk-style purple for visited links */
}

/* Keep nav menu links their normal color even when visited */
nav.header-menu a:visited {
    color: var(--link-color);
}

/* Keep auth buttons their normal color when visited */
.auth-button:visited {
    color: #333;
}

/* Quick links should turn purple when visited */
/* Removed override to allow purple visited state */

/* Dark mode visited links */
body.dark-mode a:visited {
    color: #b19cd9; /* Lighter purple for dark mode */
}

body.dark-mode nav.header-menu a:visited {
    color: var(--link-color);
}

/* Quick links should turn purple when visited in dark mode too */
/* Removed override to allow purple visited state */

/* ==========================================
   Dark Mode Overrides
   (Strictly using provided :root variables, with exceptions)
   ========================================== */

   body.dark-mode {
    /* Re-assign core variables using ONLY provided dark mode vars */
    --background: var(--dark-mode-mainbg);
    --text-color: var(--dark-mode-text);
    --nav-bg-color: var(--dark-mode-headerbg);
    --header-bg-color: var(--dark-mode-headerbg);
    --link-color: var(--dark-mode-text); /* Header/Footer links become light text */

    /* Apply to body directly */
    background-color: var(--dark-mode-mainbg);
    color: var(--dark-mode-text);
}

/* General Content Boxes (Default Dark Mode Style) */
/* Most content boxes will use this style */
body.dark-mode .content-box {
    /* Using header background for most content boxes */
    background-color: var(--dark-mode-headerbg);
    /* Using header background for border too - may have low contrast */
    border-color: var(--dark-mode-headerbg);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
    /* Text color inherits from body.dark-mode */
}

/* === Specific Content Box Background Overrides === */
/* Main content area - seamless look without borders */
body.dark-mode #view-posts-area.content-box,
body.dark-mode #create-post-area.content-box {
    background-color: var(--dark-mode-mainbg); /* Use main background */
    /* Remove border and box shadow for seamless look */
    border: none;
    box-shadow: none;
    /* Text color still inherits from body.dark-mode */
}

/* Sidebar items - keep borders */
body.dark-mode .mini-music-player.content-box,
body.dark-mode .quick-links-container.content-box,
body.dark-mode .recent-posts-container.content-box {
    background-color: var(--dark-mode-mainbg); /* Use main background */
    /* Keep border and box shadow for sidebar items */
    border-color: var(--dark-mode-headerbg);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
    /* Text color still inherits from body.dark-mode */
}
/* === End Specific Overrides === */

/* Recent Posts dark mode metadata color */
body.dark-mode .recent-posts-container .post-metadata {
    color: #999; /* Lighter gray for dark mode */
}

/* Inputs, Textareas (Create Post) */
/* These are in a content box that uses --dark-mode-headerbg */
body.dark-mode #create-post-area input[type="text"],
body.dark-mode #create-post-area textarea {
     /* Using header background for general inputs (matches container) */
    background-color: var(--dark-mode-headerbg);
    color: var(--dark-mode-text);
    /* Using main background for border to make it visible */
    border-color: var(--dark-mode-mainbg);
}

/* Search Input Specific Background */
body.dark-mode .search-container input[type="text"] {
    background-color: var(--dark-mode-mainbg); /* Use main background for search input */
    color: var(--dark-mode-text);
    /* Using header background for border */
    border-color: var(--dark-mode-headerbg);
}


/* --- Placeholder Text Colors --- */

/* General Placeholder text color */
body.dark-mode ::placeholder { color: var(--dark-mode-text); opacity: 0.7; }
body.dark-mode :-ms-input-placeholder { color: var(--dark-mode-text); opacity: 0.7; }
body.dark-mode ::-ms-input-placeholder { color: var(--dark-mode-text); opacity: 0.7; }

/* Dark Mode Placeholder */
body.dark-mode .search-container input[type="text"]::placeholder {
    color: var(--dark-mode-searchplaceholder); /* Use the dark mode placeholder color */
    opacity: 0.5; /* Ensure full visibility */
}



/* Search button icon */
body.dark-mode .search-container button {
    color: var(--dark-mode-text);
}

/* Auth Buttons */
body.dark-mode .auth-button {
    background-color: var(--dark-mode-headerbg);
    color: var(--dark-mode-text);
    border-color: var(--dark-mode-mainbg);
}
body.dark-mode .auth-button:hover {
    background-color: var(--dark-mode-navhover);
}
/* Ensure logout button has a clear background in dark mode */
body.dark-mode #user-status #logout-button {
    background-color: var(--dark-mode-navhover);
    color: var(--dark-mode-text);
    border: 1px solid #606a75;
}
body.dark-mode #user-status #logout-button:hover {
    filter: brightness(1.05);
}

/* Disabled Submit Button */
body.dark-mode #create-post-area button[type="submit"]:disabled {
    background-color: var(--dark-mode-headerbg);
    color: var(--dark-mode-text);
    opacity: 0.6;
    border-color: var(--dark-mode-headerbg);
}

/* Dropdown Menu */
body.dark-mode .dropdown-menu {
    background-color: var(--dark-mode-mainbg);
    border-color: var(--dark-mode-headerbg);
    box-shadow: 0px 3px 6px 6px rgba(0, 0, 0, 0.4);
}

/* Text color for items inside the dark mode dropdown */
body.dark-mode .dropdown-menu a,
body.dark-mode .dropdown-item-label {
    color: var(--dark-mode-text);
}

/* Hover background color FOR ALL items (links and label) */
/* Ensure consistency */
body.dark-mode .dropdown-menu a:hover,
body.dark-mode .dropdown-menu a.hovered,
body.dark-mode .dropdown-item-label:hover {
    background-color: var(--dark-mode-navhover);
    font-weight: bold; /* Add bold consistency with light mode link hover */
}

/* Style the horizontal rule (separator) */
body.dark-mode .dropdown-menu hr {
    border-color: var(--dark-mode-headerbg) !important;
}

/* Language submenu dark mode */
body.dark-mode .language-submenu {
    background-color: var(--dark-mode-mainbg);
    border-color: var(--dark-mode-headerbg);
    box-shadow: 0px 3px 6px 6px rgba(0, 0, 0, 0.4);
}

body.dark-mode .language-submenu a {
    color: var(--dark-mode-text) !important;
}

body.dark-mode .language-submenu a:hover {
    background-color: var(--dark-mode-navhover);
    font-weight: bold;
}

/* Form Messages & Login Prompt */
/* Residing within a --dark-mode-headerbg content-box */
body.dark-mode #form-message.success,
body.dark-mode #form-message.error,
body.dark-mode #form-message.info,
body.dark-mode #login-prompt {
    color: var(--dark-mode-text);
    background-color: var(--dark-mode-headerbg);
    border: 1px solid var(--dark-mode-mainbg);
}
body.dark-mode #login-prompt a {
     text-decoration: underline;
}

/* Mini Music Player & Quick Links Specific Text/Elements */
/* These are inside containers now using --dark-mode-mainbg */
body.dark-mode .mini-music-player h4,
body.dark-mode .mini-music-player .player-controls .player-btn,
body.dark-mode .mini-music-player #player-video-title,
body.dark-mode .mini-music-player .track-number,
body.dark-mode .quick-links-container .quick-links-toggle,
body.dark-mode .quick-links-container .quick-links-list li a,
body.dark-mode .quick-links-container #video-trigger-info,
body.dark-mode .quick-links-container .separator
{
    color: var(--dark-mode-text); /* Ensure text remains light */
}

body.dark-mode .track-number {
    background-color: var(--dark-mode-mainbg);
    z-index: 2;
}

/* Ensure playlist button icon inherits proper styling */
body.dark-mode #player-playlist-btn i {
    font-weight: 900;
}

/* Hovers and Accents within specific containers */
body.dark-mode .mini-music-player .player-controls .player-btn:hover,
body.dark-mode .quick-links-container .quick-links-toggle:hover,
body.dark-mode .quick-links-container .quick-links-toggle:focus,
body.dark-mode .quick-links-container .quick-links-list li a:hover,
body.dark-mode .quick-links-container .quick-links-list li a:focus,
body.dark-mode .quick-links-container #video-trigger-info:hover,
body.dark-mode .quick-links-container #video-trigger-info:focus,
body.dark-mode .quick-links-container .video-fullscreen-link:hover,
body.dark-mode .quick-links-container .video-fullscreen-link:focus {
    color: var(--dark-mode-text); /* No accent, use text color */
    text-decoration: underline; /* Add underline for hover feedback */
}

/* Dark mode shuffle button active state */
body.dark-mode #player-shuffle.shuffle-active {
    color: #4da6ff;
}

body.dark-mode #player-shuffle.shuffle-active:hover {
    color: #80c1ff;
}

/* Dark mode playlist dropdown */
body.dark-mode .playlist-dropdown {
    background-color: var(--dark-mode-mainbg);
    border-color: var(--dark-mode-headerbg);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
}

body.dark-mode .playlist-item {
    color: var(--dark-mode-text);
    border-bottom-color: var(--dark-mode-headerbg);
}

body.dark-mode .playlist-loading {
    color: #999;
}

body.dark-mode .playlist-error {
    color: #ff6b6b;
}

body.dark-mode .playlist-item:hover {
    background-color: var(--dark-mode-headerbg);
}

body.dark-mode .playlist-item.active {
    background-color: #1a3a52;
    color: #4da6ff;
}

body.dark-mode .playlist-loading {
    color: #999;
}
/* Base Quick Links toggle style reset */
body.dark-mode .quick-links-container .quick-links-toggle {
    text-decoration: none;
}


/* Music Player Slider/Seek Bar */
/* Assuming these are within the --dark-mode-mainbg music player */
body.dark-mode .mini-music-player #player-volume-slider::-webkit-slider-thumb,
body.dark-mode .mini-music-player #player-volume-slider::-moz-range-thumb {
     background: var(--dark-mode-text);
}
body.dark-mode .mini-music-player #player-volume-slider::-webkit-slider-runnable-track,
body.dark-mode .mini-music-player #player-volume-slider::-moz-range-track,
body.dark-mode .mini-music-player .seek-bar-container {
      /* Using header bg for contrast against the mainbg container */
     background: var(--dark-mode-headerbg);
}
body.dark-mode .mini-music-player .seek-bar-progress {
    /* Using text color for progress */
    background-color: var(--dark-mode-text);
}

/* User Status email text */
body.dark-mode #user-status > span {
    color: var(--dark-mode-text);
}

/* Player thumbnail placeholder */
body.dark-mode .player-thumbnail {
    /* Using header bg for placeholder */
    background-color: var(--dark-mode-headerbg);
}

/* ==========================================
   Dark Mode Toggle Styles (in Dropdown)
   ========================================== */

/* Base styles for dropdown label (ensure these are present from base CSS) */
.dropdown-item-label {
    display: flex; /* Makes it behave like a block, allows flex alignment */
    justify-content: space-between; /* Pushes checkbox to the right */
    align-items: center; /* Vertically aligns text and checkbox */
    padding: 5px 6px; /* Match link padding */
    cursor: pointer; /* Indicates clickability */
    /* Other base styles like color, font-size, etc. */
    margin: 0;
    font-weight: normal;
    transition: background-color 0.15s ease-in-out;
}

/* Dark mode specific styles for the label/checkbox */
body.dark-mode .dropdown-item-label {
    color: var(--dark-mode-text);
}
/* Hover is handled by the combined rule above */

body.dark-mode .dark-mode-checkbox {
    /* Using text color for accent */
    accent-color: var(--dark-mode-text);
}

/* ==========================================
   MOBILE RESPONSIVE STYLES
   ========================================== */

/* Prevent horizontal scrolling on all screen sizes */
html, body {
    overflow-x: hidden;
    width: 100%;
    max-width: 100%;
}

body {
    position: relative;
}

/* Tablet and below (768px) */
@media (max-width: 768px) {
    :root {
        font-size: 0.95em;
        --logo-max-width: 12em;
    }

    /* Prevent any element from causing horizontal scroll */
    * {
        max-width: 100%;
    }

    /* Header adjustments - very compact layout */
    .header-top {
        flex-direction: row !important;
        flex-wrap: nowrap;
        align-items: center !important;
        padding: 0.15em 0.3em !important;
        gap: 2px;
        overflow-x: hidden;
    }

    header {
        height: auto !important;
        min-height: auto !important;
    }

    /* Logo first - top left */
    .logo {
        order: 1;
        max-width: 3em;
        margin: 0 !important;
        flex-shrink: 0;
        display: block !important;
    }

    .logo a {
        display: block;
    }

    .logo img {
        max-height: 16px;
        width: auto;
        display: block;
    }

    /* Nav container second - to the right of logo */
    .nav-container {
        order: 2;
        flex: 1;
        min-width: 0;
        display: flex;
        align-items: center;
        gap: 2px;
        flex-direction: row !important;
        flex-wrap: nowrap;
        overflow: hidden;
    }

    nav.header-menu {
        width: auto;
        padding: 0;
        flex: 1;
        min-width: 0;
        overflow: hidden;
    }

    nav.header-menu ul {
        flex-wrap: nowrap;
        gap: 2px;
        justify-content: flex-start;
        padding: 0;
        margin: 0;
        overflow-x: auto;
        overflow-y: hidden;
        -webkit-overflow-scrolling: touch;
    }

    nav.header-menu li {
        margin: 0;
        flex-shrink: 0;
    }

    nav.header-menu li a {
        font-size: 0.6em;
        padding: 2px 4px;
        white-space: nowrap;
    }

    /* Auth buttons on same row, top right */
    #auth-buttons,
    .auth-buttons {
        order: 3;
        width: auto;
        justify-content: flex-end !important;
        gap: 2px;
        margin: 0 !important;
        margin-left: auto !important;
        flex-basis: auto;
        display: flex !important;
        flex-shrink: 0;
    }

    #auth-buttons {
        display: flex !important;
    }

    .auth-button {
        font-size: 0.55em;
        padding: 2px 6px;
        flex-shrink: 0;
        display: inline-block !important;
        white-space: nowrap;
    }

    /* Hide search bar on mobile */
    .search-container {
        display: none !important;
    }

    /* Main container - stack sidebar below content */
    .main-container {
        flex-direction: column;
        padding: 0.3em 0.4em 1em 0.4em !important;
        gap: 10px;
        width: 100%;
        box-sizing: border-box;
    }

    section {
        width: 100%;
        box-sizing: border-box;
    }

    aside {
        width: 100% !important;
        order: 2;
        box-sizing: border-box;
    }

    /* Typography adjustments */
    h1 {
        font-size: 26px;
        white-space: normal;
        margin: 0.3em 0.3em 0.1em 0.3em;
        word-wrap: break-word;
    }

    section > p {
        font-size: 1em;
        margin-bottom: 1em;
    }

    /* Recent Posts */
    #view-posts-area h2 {
        font-size: 1.2em;
    }

    /* Content boxes */
    .content-box {
        padding: 12px;
        box-sizing: border-box;
    }

    /* Music player */
    .mini-music-player h4 {
        font-size: 0.95em;
    }

    .player-controls .player-btn {
        font-size: 1.4em;
        padding: 4px;
    }

    #player-prev,
    #player-next {
        font-size: 1.2em;
    }

    #player-shuffle {
        font-size: 1.1em;
    }

    .track-number,
    #player-video-title {
        font-size: 0.85em;
    }

    /* Quick links */
    .quick-links-container h4 {
        font-size: 0.95em;
    }

    .quick-links-list li a,
    .quick-links-list li span {
        font-size: 0.95em;
        word-wrap: break-word;
    }

    /* Recent Posts sidebar */
    .recent-posts-container h4 {
        font-size: 0.95em;
    }

    .recent-posts-container .post h3 {
        font-size: 0.85em;
        word-wrap: break-word;
    }

    .recent-posts-container .post p {
        font-size: 0.8em;
    }

    .recent-posts-container .post-metadata {
        font-size: 0.7em;
    }

    /* Posts */
    .post {
        padding-bottom: 15px;
        margin-bottom: 20px;
        box-sizing: border-box;
    }

    .post h3 {
        font-size: 1.1em;
        word-wrap: break-word;
    }

    .post-meta {
        font-size: 0.85em;
    }

    /* Forms */
    #create-post-form input[type="text"],
    #create-post-form textarea {
        font-size: 0.95em;
        width: 100%;
        box-sizing: border-box;
    }

    #create-post-form button {
        padding: 8px 16px;
        font-size: 0.95em;
    }
}

/* Mobile phones (480px and below) */
@media (max-width: 480px) {
    :root {
        font-size: 0.9em;
    }

    /* Header - ultra compact */
    .header-top {
        padding: 0.15em 0.4em !important;
        gap: 3px;
    }

    .logo {
        max-width: 6em;
    }

    .logo img {
        max-height: 20px;
    }

    nav.header-menu li a {
        font-size: 0.7em;
        padding: 2px 5px;
    }

    .auth-button {
        font-size: 0.75em;
        padding: 3px 8px;
    }

    .search-container input {
        font-size: 0.8em;
        padding: 3px 28px 3px 5px;
    }

    /* Main content */
    .main-container {
        padding: 0.4em 0.5em 0.8em 0.5em !important;
        gap: 12px;
    }

    h1 {
        font-size: 22px;
        margin: 0.2em 0.2em 0.1em 0.2em;
    }

    section > p {
        font-size: 0.95em;
    }

    #view-posts-area h2 {
        font-size: 1.1em;
        margin-bottom: 12px;
    }

    /* Tighter spacing */
    .content-box {
        padding: 10px;
        margin-bottom: 15px;
    }

    /* Music player - more compact */
    .mini-music-player h4 {
        font-size: 0.9em;
        margin-bottom: 8px;
    }

    .player-controls {
        gap: 8px;
    }

    .player-controls .player-btn {
        font-size: 1.3em;
    }

    #player-prev,
    #player-next {
        font-size: 1.1em;
    }

    #player-shuffle {
        font-size: 1em;
    }

    .track-number,
    #player-video-title {
        font-size: 0.8em;
    }

    #player-volume-slider {
        width: 60px;
    }

    /* Quick links */
    .quick-links-container h4 {
        font-size: 0.9em;
        margin-bottom: 10px;
    }

    .quick-links-list ul {
        gap: 5px;
    }

    .quick-links-list li a,
    .quick-links-list li span {
        font-size: 0.9em;
    }

    /* Recent Posts sidebar */
    .recent-posts-container h4 {
        font-size: 0.9em;
        margin-bottom: 10px;
    }

    .recent-posts-container .post {
        padding-bottom: 10px;
        margin-bottom: 12px;
    }

    .recent-posts-container .post h3 {
        font-size: 0.8em;
        margin-bottom: 6px;
    }

    .recent-posts-container .post p {
        font-size: 0.75em;
        margin-bottom: 4px;
    }

    .recent-posts-container .post-metadata {
        font-size: 0.65em;
    }

    /* Posts */
    .post {
        padding-bottom: 12px;
        margin-bottom: 15px;
    }

    .post h3 {
        font-size: 1em;
    }

    .post h3 a {
        word-break: break-word;
    }

    .post-meta {
        font-size: 0.8em;
        flex-wrap: wrap;
        gap: 5px;
    }

    .post-content {
        font-size: 0.9em;
    }

    /* Forms */
    #create-post-form input[type="text"],
    #create-post-form textarea {
        font-size: 0.9em;
        padding: 8px;
    }

    #create-post-form button {
        padding: 7px 14px;
        font-size: 0.9em;
    }

    /* Dropdown adjustments */
    .dropdown-menu {
        min-width: 140px;
        font-size: 0.9em;
    }

    /* Playlist dropdown */
    .playlist-dropdown {
        min-width: 200px;
        max-width: 250px;
        font-size: 0.9em;
    }

    /* Video embed */
    #video-embed-container video {
        max-height: 200px;
    }
}

/* Extra small screens (360px and below) */
@media (max-width: 360px) {
    :root {
        font-size: 0.85em;
    }

    .header-top {
        padding: 0.1em 0.3em !important;
    }

    .logo {
        max-width: 5em;
    }

    .logo img {
        max-height: 18px;
    }

    h1 {
        font-size: 18px;
    }

    nav.header-menu li a {
        font-size: 0.65em;
        padding: 2px 4px;
    }

    .auth-button {
        font-size: 0.7em;
        padding: 2px 6px;
    }

    .search-container input {
        font-size: 0.75em;
    }

    .player-controls .player-btn {
        font-size: 1.2em;
    }

    #player-volume-slider {
        width: 50px;
    }

    .main-container {
        padding: 0.3em 0.4em 0.6em 0.4em !important;
    }
}

/* Landscape mobile orientation */
@media (max-width: 768px) and (orientation: landscape) {
    .main-container {
        flex-direction: row;
    }

    aside {
        width: 35% !important;
        order: 0;
    }

    section {
        width: 65%;
    }

    h1 {
        font-size: 24px;
    }
}