<!DOCTYPE html>
<html lang="en">

<head>
    <!-- The head content will be injected here by head.js -->
    <script src="_includes/head.js"></script>
    <script>generateHead('Create Post');</script>
</head>

<body>
    <div id="header-placeholder"></div>

    <main class="blue-border">
        <div class="main-container">
            <section>
                <div id="create-post-container" style="display: block;">
                    <div id="create-post-area" class="content-box">
                        <h2 data-translate="createNewPost">Create a New Post</h2>
                        <p id="login-prompt" style="display: none;">
                            Please log in to create a post. <!-- Style moved to CSS -->
                        </p>
                        <form id="create-post-form" style="display: none;">
                            <div class="form-group">
                                <label for="post-title" data-translate="titleOptional">Title (optional):</label>
                                <!-- CHANGED to textarea for wrapping, added maxlength -->
                                <textarea id="post-title" name="title" rows="1" maxlength="300"></textarea>
                                <!-- Added char counter -->
                                <span id="title-char-count" class="char-counter">0 / 300</span>
                            </div>
                            <div class="form-group">
                                <label for="post-content" data-translate="contentRequired">Content:</label>
                                <!-- Added maxlength -->
                                <textarea id="post-content" name="content" rows="8" required maxlength="40000"></textarea>
                                <!-- Added char counter -->
                                <span id="content-char-count" class="char-counter">0 / 40000</span>
                            </div>
                            <button type="submit" id="submit-button" disabled data-translate="submitPost">Submit Post</button>
                            <p id="form-message" class="message" style="margin-top: 1em; font-weight: bold;"></p>
                        </form>
                    </div>
                </div>
            </section>
            <aside>
                <!-- This placeholder will be filled by script.js -->
                <div id="sidebar-placeholder"></div>
            </aside>
        </div>
    </main>

    <div id="footer-placeholder"></div>

    <!-- Firebase SDK (for future client-side features) -->
    <!-- Note: Currently all database operations go through Netlify Functions -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="js/firebaseclient.js"></script>

    <script src="_includes/header.js"></script>
    <script src="_includes/footer.js"></script>
    <script src="_includes/sidebar.js"></script> <!-- Load sidebar content -->
    <script src="script.js"></script>
</body>
</html>