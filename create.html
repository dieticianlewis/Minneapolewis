
<!DOCTYPE html>
<html lang="en">

<head>
    <!-- 1. Core Metadata (Character set, viewport, and title should come first) -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minneapolewis - Create Post</title>

    <!-- 2. Resource Hints (Helps the browser prepare for fetching assets) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="images/my-logo.webp" as="image" fetchpriority="high">

    <!-- 3. Favicons & Manifest (Icons for various devices and PWA manifest) -->
    <link rel="icon" href="/images/favicon.svg" type="image/svg+xml">
    <link rel="icon" href="/images/favicon.ico" sizes="any"> <!-- Fallback for older browsers -->
    <link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
    <link rel="manifest" href="/images/site.webmanifest">
    <meta name="apple-mobile-web-app-title" content="Minneapolewis">

    <!-- 4. Stylesheets (Load library/vendor CSS before your custom styles) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.8.1/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Almarai:wght@300;400;700;800&display=swap" rel="stylesheet">

    <!-- 5. Scripts (Defer scripts to prevent render-blocking) -->
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js" defer></script>
</head>

<body>
    <div id="header-placeholder"></div>

    <main class="blue-border">
        <div class="main-container">
            <section>
                <div id="create-post-container" style="display: block;">
                    <div id="create-post-area" class="content-box">
                        <h2 data-translate="createNewPost">Create a New Post</h2>
                        <p id="login-prompt" style="display: none;">
                            Please log in to create a post. <!-- Style moved to CSS -->
                        </p>
                        <form id="create-post-form" style="display: none;">
                            <div class="form-group">
                                <label for="post-title" data-translate="titleOptional">Title (optional):</label>
                                <!-- CHANGED to textarea for wrapping, added maxlength -->
                                <textarea id="post-title" name="title" rows="1" maxlength="300"></textarea>
                                <!-- Added char counter -->
                                <span id="title-char-count" class="char-counter">0 / 300</span>
                            </div>
                            <div class="form-group">
                                <label for="post-content" data-translate="contentRequired">Content:</label>
                                <!-- Added maxlength -->
                                <textarea id="post-content" name="content" rows="8" required maxlength="40000"></textarea>
                                <!-- Added char counter -->
                                <span id="content-char-count" class="char-counter">0 / 40000</span>
                            </div>
                            <button type="submit" id="submit-button" disabled data-translate="submitPost">Submit Post</button>
                            <p id="form-message" class="message" style="margin-top: 1em; font-weight: bold;"></p>
                        </form>
                    </div>
                </div>
            </section>
            <aside>
                <!-- This placeholder will be filled by script.js -->
                <div id="sidebar-placeholder"></div>
            </aside>
        </div>
    </main>

    <div id="footer-placeholder"></div>

    <!-- Firebase SDK (for future client-side features) -->
    <!-- Note: Currently all database operations go through Netlify Functions -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="js/firebaseclient.js"></script>

    <script src="_includes/header.js"></script>
    <script src="_includes/footer.js"></script>
    <script src="_includes/sidebar.js"></script> <!-- Load sidebar content -->
    <script src="script.js"></script>
</body>
</html>